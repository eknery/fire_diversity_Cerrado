### maintained packages
if (!require("tidyverse")) install.packages("tidyverse"); require("tidyverse")
if (!require("ggplot2")) install.packages("ggplot2"); library("ggplot2")
if (!require("ggpubr")) install.packages("ggpubr"); library("ggpubr")
if (!require("nlme")) install.packages("nlme"); library("nlme")
if (!require("vegan")) install.packages("vegan"); library("vegan")
### environmental data
comm_data = read.csv("0_data/comm_data.csv", sep=",", h=T)
head(comm_data)
### species data
ind_data = read.csv("0_data/ind_data.csv", sep=",", h=T, stringsAsFactors = T)
head(ind_data)
### processing individual data
ind_data  =  ind_data %>%
filter(!is.na(sp)) %>%
unite("plot_id", site, plot, sep="_", remove = FALSE)
### processing community data
comm_data  =  comm_data %>%
unite("plot_id", site, plot, sep="_", remove = FALSE)
### fire frequency
comm_data = comm_data %>%
mutate(fire_frequency = burned * 10)
### overall spp abundance
ind_data %>%
group_by(sp) %>%
reframe( n = n()) %>%
arrange(desc(n))
####### FIRE
hist(comm_data$fire_frequency)
### high fire plots
high_fire_plot = comm_data %>%
filter(fire_frequency >= 5) %>%
select(plot_id)
### high fire plots
high_fire_plot = comm_data %>%
filter(fire_frequency >= 5) %>%
select(plot_id)
high_fire_sp = ind_data %>%
filter(plot_id %in% high_fire_plot$plot_id) %>%
group_by(sp) %>%
reframe(n = n()) %>%
arrange(desc(n))
### low fire plots
low_fire_plot = comm_data %>%
filter(fire_frequency <= 1) %>%
select(plot_id)
low_fire_sp = ind_data %>%
filter(plot_id %in% low_fire_plot$plot_id) %>%
group_by(sp) %>%
reframe(n = n()) %>%
arrange(desc(n))
### comparing low and high fire
which(low_fire_sp$sp == high_fire_sp$sp[[1]])
low_fire_sp
